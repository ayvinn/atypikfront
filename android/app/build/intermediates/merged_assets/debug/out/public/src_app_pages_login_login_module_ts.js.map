{"version":3,"file":"src_app_pages_login_login_module_ts.js","mappings":"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","sources":["./src/app/pages/login/login.component.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators} from '@angular/forms';\r\nimport { Router } from '@angular/router'; \r\nimport { UserService } from 'src/app/services/user.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  public loginForm: FormGroup;\r\n  etat :boolean= false;\r\n  message: string;\r\n  public hide = true;\r\n  async delay(ms: number) {\r\n    await new Promise<void>(resolve => setTimeout(()=>resolve(), ms));\r\n  }\r\n  constructor(public fb: FormBuilder, public router:Router,public user: UserService,) { }\r\n\r\n  ngOnInit() {\r\n    this.loginForm = this.fb.group({\r\n      username: [null, Validators.compose([Validators.required, Validators.minLength(6)])],\r\n      password: [null, Validators.compose([Validators.required, Validators.minLength(2)])],\r\n      rememberMe: false\r\n    });\r\n  }\r\n\r\n  public onLoginFormSubmit(values:Object):void {\r\n    if (this.loginForm.valid) {\r\n      this.verify(); \r\n      console.log(this.etat);\r\n      this.delay(500).then(any=>{ \r\n        if(this.etat == true)\r\n        {\r\n          localStorage.setItem('isLoggedIn', \"true\");\r\n          window.location.href = '/';\r\n            \r\n        }else\r\n        {\r\n          this.message = \"Login ou Mot de passe incorrect !\";\r\n        }\r\n     });\r\n    }\r\n  }\r\n  invalidlogin: boolean;\r\n\r\n  verify() : any {\r\n    const values = { username: this.loginForm.value.username, password: this.loginForm.value.password };\r\n    console.log(values);\r\n    this.user.authLogin(values).subscribe(\r\n      data => {\r\n        if(data){\r\n          const token = (<any>data).token; \r\n          this.etat=true ; //Categorie Admin\r\n          localStorage.setItem('isadmin', (<any>data).isAdmin);\r\n          this.invalidlogin =false;\r\n          localStorage.setItem('jwt', token );\r\n          localStorage.setItem('nom', this.loginForm.value.username );\r\n        }    \r\n        else\r\n          this.etat= false; \r\n      },\r\n      (error) => {\r\n        this.invalidlogin =true;\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { LoginComponent } from './login.component';\r\n\r\nexport const routes = [\r\n  { path: '', component: LoginComponent, pathMatch: 'full'  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [LoginComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    SharedModule\r\n  ]\r\n})\r\nexport class LoginModule { }\r\n","export default \"<div class=\\\"p-3\\\">\\r\\n  <div class=\\\"theme-container\\\">\\r\\n\\r\\n    <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"my-3\\\">\\r\\n        <mat-card [style.max-width.px]=\\\"340\\\" class=\\\"md-card\\\">\\r\\n          <div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"text-center\\\">  \\r\\n            <h1 class=\\\"uppercase\\\">S'identifier</h1>  \\r\\n            <a mat-button routerLink=\\\"/register\\\" color=\\\"accent\\\" class=\\\"w-100\\\">Pas de compte ? Inscivez-vous maintenant</a>    \\r\\n          </div>\\r\\n          <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onLoginFormSubmit(loginForm.value)\\\">\\r\\n              <mat-form-field appearance=\\\"outline\\\" class=\\\"w-100 mt-2\\\">\\r\\n                  <mat-icon matPrefix class=\\\"mr-1 text-muted\\\">person</mat-icon>\\r\\n                  <mat-label>Nom d'utilisateur</mat-label>\\r\\n                  <input matInput placeholder=\\\"Nom D'utilisateur\\\" formControlName=\\\"username\\\" required>\\r\\n                  <mat-error *ngIf=\\\"loginForm.controls.username.errors?.required\\\">Nom d'utilisateur obligatoire</mat-error>\\r\\n                  <mat-error *ngIf=\\\"loginForm.controls.username.hasError('minlength')\\\">Nom d'utilisateur doit contenir 6 caractères minimum</mat-error>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field appearance=\\\"outline\\\" class=\\\"w-100 mt-1\\\">\\r\\n                  <mat-icon matPrefix class=\\\"mr-1 text-muted\\\">lock</mat-icon>\\r\\n                  <mat-label>Mot de passe</mat-label>\\r\\n                  <input matInput placeholder=\\\"Password\\\" formControlName=\\\"password\\\" required [type]=\\\"hide ? 'password' : 'text'\\\">\\r\\n                  <mat-error *ngIf=\\\"loginForm.controls.password.errors?.required\\\">Mot de passe obligatoire</mat-error>\\r\\n                  <mat-error *ngIf=\\\"loginForm.controls.password.hasError('minlength')\\\">Le mot de passe doit contenir 6 caractères minimum</mat-error>\\r\\n                  <button mat-icon-button matSuffix (click)=\\\"hide = !hide\\\" type=\\\"button\\\" class=\\\"text-muted\\\">\\r\\n                      <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\\r\\n                  </button>\\r\\n              </mat-form-field> \\r\\n              <mat-slide-toggle formControlName=\\\"rememberMe\\\" class=\\\"my-2\\\">Garder ma session ouverte</mat-slide-toggle>\\r\\n              <div class=\\\"text-center mt-2\\\"> \\r\\n                  <button mat-raised-button color=\\\"accent\\\" class=\\\"uppercase\\\" type=\\\"submit\\\">\\r\\n                      Se Connecter\\r\\n                  </button>\\r\\n              </div>     \\r\\n              <span style=\\\"margin: 1%;color: red;margin-top: 2%;\\\">{{message}}</span> \\r\\n              <!--<div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\" class=\\\"mt-3\\\">\\r\\n                  <div class=\\\"divider w-100\\\"></div>\\r\\n                  <h3 class=\\\"text-muted ws-nowrap fw-500 p-2\\\">ou Connectez-vous en un clic</h3>                       \\r\\n                  <div class=\\\"divider w-100\\\"></div>\\r\\n              </div>  \\r\\n              <div class=\\\"text-center py-3\\\">\\r\\n                  <button mat-mini-fab color=\\\"primary\\\" matTooltip=\\\"Facebook\\\" type=\\\"button\\\">\\r\\n                    <svg class=\\\"mat-icon\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n                        <path d=\\\"M17,2V2H17V6H15C14.31,6 14,6.81 14,7.5V10H14L17,10V14H14V22H10V14H7V10H10V6A4,4 0 0,1 14,2H17Z\\\" />\\r\\n                    </svg>\\r\\n                  </button>                        \\r\\n                  <button mat-mini-fab color=\\\"primary\\\" matTooltip=\\\"Twitter\\\" type=\\\"button\\\" class=\\\"mx-3\\\">\\r\\n                    <svg class=\\\"mat-icon\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n                        <path d=\\\"M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z\\\" />\\r\\n                    </svg>\\r\\n                  </button>\\r\\n                  <button mat-mini-fab color=\\\"primary\\\" matTooltip=\\\"Google\\\" type=\\\"button\\\">\\r\\n                    <svg class=\\\"mat-icon\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n                        <path d=\\\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\\\" />\\r\\n                    </svg>\\r\\n                  </button> \\r\\n              </div>  -->   \\r\\n          </form>\\r\\n          <!--<mat-card-actions fxLayoutAlign=\\\"end center\\\">\\r\\n            <button mat-button>\\r\\n              <mat-icon class=\\\"text-muted\\\">vpn_key</mat-icon>\\r\\n              <span class=\\\"mx-1\\\">Mot de passe oublié ?</span>\\r\\n            </button> \\r\\n          </mat-card-actions>-->\\r\\n        </mat-card>\\r\\n    </div> \\r\\n\\r\\n  </div>\\r\\n</div>\";"],"names":[],"sourceRoot":"webpack:///"}