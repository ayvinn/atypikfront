




<div class="px-3">

    <div class="theme-container">
        <mat-card class="main-content-header mb-5">
            <mat-tab-group>
                <mat-tab label="First"> 
                    
                    <mat-form-field appearance="outline" class="w-100">
                        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter properties" autocomplete="off">
                      </mat-form-field>
                      <div class="table-wrapper"> 
                          <table mat-table [dataSource]="dataSource" matSort class="w-100">
                    
                            <ng-container matColumnDef="Arrive">
                              <th mat-header-cell *matHeaderCellDef mat-sort-header> Date d'arrivée </th>
                              <td mat-cell *matCellDef="let element "><a [routerLink]="['/properties', element.accommodationId ]" class="property-name">{{element.dateArrival | date: 'dd/MM/yyyy'}}</a></td>
                            </ng-container> 
                    
                            <ng-container matColumnDef="Departure">
                              <th mat-header-cell *matHeaderCellDef mat-sort-header> Date de départ </th>
                              <td mat-cell *matCellDef="let element "><a [routerLink]="['/properties', element.accommodationId ]" class="property-name">{{element.dateDeparture | date: 'dd/MM/yyyy'}}</a></td>
                            </ng-container> 
                            
                            <ng-container matColumnDef="name">
                              <th mat-header-cell *matHeaderCellDef mat-sort-header>voyageur</th>
                              <td mat-cell *matCellDef="let element "><a [routerLink]="['/properties', element.accommodationId ]" class="property-name">{{element.user.firstName}} {{element.user.lastName}}</a></td>
                            </ng-container> 
                   
                    
                            <ng-container matColumnDef="actions">
                              <th mat-header-cell *matHeaderCellDef> Actions </th>
                              <td mat-cell *matCellDef="let element">  
                                  <button mat-icon-button color="warn" (click)="validatereservation(element.id)" matTooltip="Valider" class="remove">
                                      <mat-icon>event_available</mat-icon>
                                  </button> 
                                  <button mat-icon-button color="primary" (click)="cancelreservation(element.id)" matTooltip="Annuler" class="remove">
                                  <mat-icon>event_busy</mat-icon>
                                </button>


                              </td>
                            </ng-container> 
                            
                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let property; columns: displayedColumns;">
                            </tr>
                          </table> 
                          <p *ngIf="dataSource?.data.length === 0" class="py-5 mb-0 text-center">No data available</p> 
                      </div>
                      <mat-paginator [pageSizeOptions]="[20]"  showFirstLastButtons></mat-paginator>


                </mat-tab>
                <mat-tab label="Second"> Content 2 </mat-tab>
                <mat-tab label="Third"> Content 3 </mat-tab>
            </mat-tab-group>
        </mat-card>  
    </div>

</div>